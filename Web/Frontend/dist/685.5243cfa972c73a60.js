"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[685],{7685:(q,g,u)=>{u.r(g),u.d(g,{EditComponent:()=>m});var f=u(8692),a=u(7352),o=u(9900);class c{id;plot;actors;language;country;constructor(r,n,i,s,d){this.id=r,this.plot=n,this.actors=i,this.language=s,this.country=d,this.id=r,this.plot=n,this.actors=i,this.language=s,this.country=d}}var p=u(2080),t=u(6985),v=u(2515);function h(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"Actors must not exceed 200 characters"),t.qZA())}function Z(e,r){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,h,2,0,"div",18),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.actors.errors.maxlength)}}function k(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"Description must not exceed 1000 characters"),t.qZA())}function T(e,r){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,k,2,0,"div",18),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.plot.errors.maxlength)}}function b(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"Language must not exceed 50 characters"),t.qZA())}function _(e,r){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,b,2,0,"div",18),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.language.errors.maxlength)}}function A(e,r){1&e&&(t.TgZ(0,"div"),t._uU(1,"Country must not exceed 50 characters"),t.qZA())}function C(e,r){if(1&e&&(t.TgZ(0,"div",17),t.YNc(1,A,2,0,"div",18),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.country.errors.maxlength)}}const l=function(e){return{"uk-form-danger":e}};class m{filmService;formBuilder;route;router;form=new o.cw({plot:new o.NI(""),actors:new o.NI(""),language:new o.NI(""),country:new o.NI("")});submitted=!1;id;Film=new p.G;constructor(r,n,i,s){this.filmService=r,this.formBuilder=n,this.route=i,this.router=s,this.route.params.subscribe(d=>this.id=d.id)}ngOnInit(){this.filmService.get(this.id).subscribe(r=>this.Film=r),this.form=this.formBuilder.group({plot:["",o.kI.maxLength(1e3)],actors:["",o.kI.maxLength(200)],language:["",o.kI.maxLength(50)],country:["",o.kI.maxLength(50)]})}get f(){return this.form.controls}edit(){if(this.submitted=!0,this.form.invalid)return;const r=new c(this.id,this.form.value.plot,this.form.value.actors,this.form.value.language,this.form.value.country);this.filmService.update(r).subscribe(()=>{this.submitted=!1,this.router.navigate([`/film/detail/${this.id}`])})}onReset(){this.submitted=!1,this.form.reset()}static \u0275fac=function(n){return new(n||m)(t.Y36(v.O),t.Y36(o.qu),t.Y36(a.gz),t.Y36(a.F0))};static \u0275cmp=t.Xpm({type:m,selectors:[["app-edit"]],inputs:{f:"f"},standalone:!0,features:[t.jDz],decls:43,vars:26,consts:[[1,"uk-form-stacked",3,"formGroup"],[1,"uk-margin"],[1,"uk-width-1-4",3,"src","alt"],["for","actors",1,"uk-form-label"],[1,"uk-form-controls"],["type","text","formControlName","actors",1,"uk-input","uk-width-1-1",3,"value","ngClass"],["class","uk-form-danger",4,"ngIf"],["for","plot",1,"uk-form-label"],["formControlName","plot","cols","30","rows","10",1,"uk-width-1-1",3,"value","ngClass"],["for","language",1,"uk-form-label"],["type","text","formControlName","language",1,"uk-input","uk-width-1-1",3,"value","ngClass"],["for","country",1,"uk-form-label"],["type","text","formControlName","country",1,"uk-input","uk-width-1-1",3,"value","ngClass"],[1,"uk-button-group"],["routerLink","/",1,"uk-button","uk-button-primary","uk-margin-right"],["routerLink","/list",1,"uk-button","uk-button-primary","uk-margin-right"],[1,"uk-button","uk-button-secondary",3,"click"],[1,"uk-form-danger"],[4,"ngIf"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0)(1,"div",1)(2,"h5"),t._uU(3),t.qZA()(),t.TgZ(4,"div",1)(5,"div"),t._uU(6),t.qZA()(),t.TgZ(7,"div",1),t._UZ(8,"img",2),t.qZA(),t.TgZ(9,"div",1)(10,"div"),t._uU(11),t.qZA()(),t.TgZ(12,"div",1)(13,"label",3),t._uU(14,"Actors"),t.qZA(),t.TgZ(15,"div",4),t._UZ(16,"input",5),t.qZA(),t.YNc(17,Z,2,1,"div",6),t.qZA(),t.TgZ(18,"div",1)(19,"label",7),t._uU(20,"Description"),t.qZA(),t.TgZ(21,"div",4),t._UZ(22,"textarea",8),t.qZA(),t.YNc(23,T,2,1,"div",6),t.qZA(),t.TgZ(24,"div",1)(25,"label",9),t._uU(26,"Language"),t.qZA(),t.TgZ(27,"div",4),t._UZ(28,"input",10),t.qZA(),t.YNc(29,_,2,1,"div",6),t.qZA(),t.TgZ(30,"div",1)(31,"label",11),t._uU(32,"Country"),t.qZA(),t.TgZ(33,"div",4),t._UZ(34,"input",12),t.qZA(),t.YNc(35,C,2,1,"div",6),t.qZA(),t.TgZ(36,"div",13)(37,"button",14),t._uU(38,"Home"),t.qZA(),t.TgZ(39,"button",15),t._uU(40,"List"),t.qZA(),t.TgZ(41,"button",16),t.NdJ("click",function(){return i.edit()}),t._uU(42,"Edit"),t.qZA()()()),2&n&&(t.Q6J("formGroup",i.form),t.xp6(3),t.Oqu(i.Film.title),t.xp6(3),t.hij("",i.Film.year," year"),t.xp6(2),t.Q6J("src",i.Film.poster,t.LSH)("alt",i.Film.title),t.xp6(3),t.hij("Genre: ",i.Film.genre,""),t.xp6(5),t.Q6J("value",i.Film.actors)("ngClass",t.VKq(18,l,i.submitted&&i.f.actors.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.actors.errors),t.xp6(5),t.Q6J("value",i.Film.plot)("ngClass",t.VKq(20,l,i.submitted&&i.f.plot.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.plot.errors),t.xp6(5),t.Q6J("value",i.Film.language)("ngClass",t.VKq(22,l,i.submitted&&i.f.language.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.language.errors),t.xp6(5),t.Q6J("value",i.Film.country)("ngClass",t.VKq(24,l,i.submitted&&i.f.country.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.country.errors))},dependencies:[f.ez,f.mk,f.O5,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u,a.Bz,a.rH],encapsulation:2})}}}]);